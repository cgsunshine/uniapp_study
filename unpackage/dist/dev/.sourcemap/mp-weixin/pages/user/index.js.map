{"version":3,"file":"index.js","sources":["pages/user/index.vue","../../../soft/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9pbmRleC52dWU"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<view class=\"op-cells\"\r\n\t\t\tstyle=\"background-color: #ffffff; padding: 0 0 60rpx 0; overflow: hidden; text-align: center\">\r\n\t\t\t<view style=\"margin-top: 40rpx\">\r\n\t\t\t\t<view\r\n\t\t\t\t\tstyle=\"display: inline-block; width: 150rpx; height: 150rpx; border-radius: 200rpx; overflow: hidden\">\r\n\t\t\t\t\t<block v-if=\"mine.avatar\">\r\n\t\t\t\t\t\t<image :src=\"mine.avatar_url\" style=\"width: 150rpx; height: 150rpx\" />\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t<image src=\"/static/resource/images/avatar.jpg\" style=\"width: 150rpx; height: 150rpx\" />\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"padding-top: 20rpx\">\r\n\t\t\t\t<text class=\"user-nickname\">{{ mine.nickname ? mine.nickname : '用户' + mine._id }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"weui-cells op-cells\" style=\"margin-top: 20rpx\">\r\n\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t<view class=\"weui-cell__bd\">我的订单</view>\r\n\t\t\t\t<view class=\"weui-cell__ft\"><text @tap=\"toOrders\" style=\"font-size: 26rpx\">全部</text></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"weui-cell\" style=\"padding: 0\">\r\n\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t<view class=\"data-cell\" hover-class=\"weui-cell_active\" @tap=\"toOrders\" data-filt=\"1\">\r\n\t\t\t\t\t\t<view class=\"data-icon\">\r\n\t\t\t\t\t\t\t<image src=\"/static/resource/images/od_10.png\" mode=\"widthFix\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"data-txt\">待支付</view>\r\n\t\t\t\t\t\t<text v-if=\"statistic.topays > 0\"\r\n\t\t\t\t\t\t\tclass=\"data-cell-hint data-cell-hint-red\">{{ statistic.topays }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t<view class=\"data-cell\" hover-class=\"weui-cell_active\" @tap=\"toOrders\" data-filt=\"2\">\r\n\t\t\t\t\t\t<view class=\"data-icon\">\r\n\t\t\t\t\t\t\t<image src=\"/static/resource/images/od_20.png\" mode=\"widthFix\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"data-txt\">待服务</view>\r\n\t\t\t\t\t\t<text v-if=\"statistic.todos > 0\"\r\n\t\t\t\t\t\t\tclass=\"data-cell-hint data-cell-hint-red\">{{ statistic.todos }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t<view class=\"data-cell\" hover-class=\"weui-cell_active\" @tap=\"toOrders\" data-filt=\"3\">\r\n\t\t\t\t\t\t<view class=\"data-icon\">\r\n\t\t\t\t\t\t\t<image src=\"/static/resource/images/od_30.png\" mode=\"widthFix\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"data-txt\">已完成</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t<view class=\"data-cell\" hover-class=\"weui-cell_active\" @tap=\"toOrders\" data-filt=\"4\">\r\n\t\t\t\t\t\t<view class=\"data-icon\">\r\n\t\t\t\t\t\t\t<image src=\"/static/resource/images/od_40.png\" mode=\"widthFix\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"data-txt\">已取消</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"weui-cells op-cells\" style=\"margin-top: 20rpx\">\r\n\t\t\t<view class=\"weui-cell weui-cell_access\" hover-class=\"weui-cell_active\">\r\n\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t<image src=\"/static/resource/images/ic_clients.png\"\r\n\t\t\t\t\t\tstyle=\"display: block; margin-right: 20rpx; width: 20px; height: 20px\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell__bd\">服务对象管理</view>\r\n\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"weui-cell weui-cell_access\" hover-class=\"weui-cell_active\" @tap=\"showShareModal\">\r\n\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t<image src=\"/static/resource/images/ic_share.png\"\r\n\t\t\t\t\t\tstyle=\"display: block; margin-right: 20rpx; width: 20px; height: 20px\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell__bd\">分享转发</view>\r\n\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<share :shareModal=\"clone_shareModal\"></share>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from 'vue';\r\n\timport {\r\n\t\tonLoad\r\n\t} from '@dcloudio/uni-app';\r\n\r\n\r\n\tconst app = getApp()\r\n\tconst mine = ref({\r\n\r\n\t})\r\n\tconst statistic = ref({\r\n\r\n\t})\r\n\tconst clone_shareModal = ref(false)\r\n\r\n\tonLoad(() => {\r\n\t\tapp.globalData.utils.request({\r\n\t\t\turl: '/User/index',\r\n\t\t\tmethod: 'GET',\r\n\t\t\theader: {\r\n\t\t\t\ttoken: uni.getStorageSync('token')\r\n\t\t\t},\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tmine.value = res.data.mine\r\n\t\t\t\tstatistic.value = res.data.statistic\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n\r\n\tconst toOrders = (e) => {\r\n\t\tconsole.log('e.currentTarget.dataset.filt',e.currentTarget.dataset.filt)\r\n\t\tif (e.currentTarget.dataset.filt) {\r\n\t\t\tapp.globalData.orders_filt = e.currentTarget.dataset.filt\r\n\t\t} else {\r\n\t\t\tapp.globalData.orders_filt = ''\r\n\t\t}\r\n\t\tuni.switchTab({\r\n\t\t\turl: '../order/index'\r\n\t\t})\r\n\t}\r\n\r\n\tconst showShareModal = () => {\r\n\t\tclone_shareModal.value = true\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import './index.css'\r\n</style>","import MiniProgramPage from 'D:/pro/unipro/uniapp_study/pages/user/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","uni","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;AA8FC,UAAM,MAAM,OAAQ;AACpB,UAAM,OAAOA,cAAAA,IAAI,CAElB,CAAE;AACD,UAAM,YAAYA,cAAAA,IAAI,CAEvB,CAAE;AACD,UAAM,mBAAmBA,cAAG,IAAC,KAAK;AAElCC,kBAAAA,OAAO,MAAM;AACZ,UAAI,WAAW,MAAM,QAAQ;AAAA,QAC5B,KAAK;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ;AAAA,UACP,OAAOC,cAAAA,MAAI,eAAe,OAAO;AAAA,QACjC;AAAA,QACD,SAAS,SAAO;AACfA,wBAAAA,MAAA,MAAA,OAAA,+BAAY,GAAG;AACf,eAAK,QAAQ,IAAI,KAAK;AACtB,oBAAU,QAAQ,IAAI,KAAK;AAAA,QAC3B;AAAA,MACJ,CAAG;AAAA,IACH,CAAE;AAED,UAAM,WAAW,CAAC,MAAM;AACvBA,0BAAA,MAAA,OAAA,+BAAY,gCAA+B,EAAE,cAAc,QAAQ,IAAI;AACvE,UAAI,EAAE,cAAc,QAAQ,MAAM;AACjC,YAAI,WAAW,cAAc,EAAE,cAAc,QAAQ;AAAA,MACxD,OAAS;AACN,YAAI,WAAW,cAAc;AAAA,MAC7B;AACDA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,MACR,CAAG;AAAA,IACD;AAED,UAAM,iBAAiB,MAAM;AAC5B,uBAAiB,QAAQ;AAAA,IACzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnIF,GAAG,WAAWC,SAAe;"}