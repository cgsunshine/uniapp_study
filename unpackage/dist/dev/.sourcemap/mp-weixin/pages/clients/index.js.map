{"version":3,"file":"index.js","sources":["pages/clients/index.vue","../../../soft/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2xpZW50cy9pbmRleC52dWU"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<view class=\"cell-box\" v-for=\"(item, index) in clients\" :key=\"index\">\r\n\t\t    <view class=\"weui-cell\" @click=\"onClientSelected\" :data-index=\"index\">\r\n\t\t        <view class=\"weui-cell__bd\">\r\n\t\t            <view>\r\n\t\t                <text style=\"font-weight: bold\">{{ item.name }}</text>\r\n\t\t            </view>\r\n\t\t            <view>\r\n\t\t                <text :class=\"'sext' + item.sex\">{{ item.sex == 1 ? '男' : '女' }}</text>\r\n\t\t                <text style=\"margin-left: 10rpx\">{{ item.age }}周岁</text>\r\n\t\t                <text style=\"margin-left: 10rpx\">{{ item.mobile }}</text>\r\n\t\t            </view>\r\n\t\t        </view>\r\n\t\t        <view class=\"weui-cell__ft\">\r\n\t\t            <text v-if=\"act == 'select'\" style=\"\r\n\t\t                display: inline-block;\r\n\t\t                padding: 15rpx 30rpx;\r\n\t\t                border: 1rpx solid #0bb584;\r\n\t\t                color: #0bb584;\r\n\t\t                font-weight: bold;\r\n\t\t                border-radius: 10rpx;\r\n\t\t                font-size: 28rpx;\r\n\t\t                overflow: hidden;\r\n\t\t            \">\r\n\t\t                选择\r\n\t\t            </text>\r\n\t\t            <text v-else @click=\"removeClient\" :data-id=\"item.id\" style=\"\r\n\t\t                display: inline-block;\r\n\t\t                padding: 15rpx 30rpx;\r\n\t\t                border: 1rpx solid #eeeeee;\r\n\t\t                color: #f13e6d;\r\n\t\t                border-radius: 10rpx;\r\n\t\t                font-size: 28rpx;\r\n\t\t                overflow: hidden;\r\n\t\t            \">\r\n\t\t                移除\r\n\t\t            </text>\r\n\t\t        </view>\r\n\t\t    </view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, reactive, ref, toRaw } from 'vue';\r\nimport { onLoad } from '@dcloudio/uni-app';\r\n\r\nconst app = getApp();\r\n//创建控制页面的变量\r\nconst act = ref('');\r\n//服务对象\r\nconst clients = ref([]);\r\n\r\nonLoad((options) => {\r\n\tact.value = options.act;\r\n\tif (options.act == 'select') {\r\n\t\tuni.setNavigationBarTitle({\r\n\t\t\ttitle: '请选择服务对象'\r\n\t\t});\r\n\t} else {\r\n\t\tuni.setNavigationBarTitle({\r\n\t\t\ttitle: '服务对象管理'\r\n\t\t});\r\n\t}\r\n\r\n\tapp.globalData.utils.request({\r\n\t\turl: '/User/clients',\r\n\t\tsuccess(res) {\r\n\t\t\tconsole.log(res);\r\n\t\t\tclients.value = res.data.clients;\r\n\t\t}\r\n\t});\r\n});\r\n\r\n//选择服务人员\r\nconst onClientSelected = (e) =>{\r\n\tif (act == '') return\r\n\tconst index = e.currentTarget.dataset.index\r\n\tconst clientsData = clients.value[index]\r\n\t//触发全局的监听事件\r\n\tuni.$emit('clientChange',toRaw(clientsData))\r\n\tuni.navigateBack()\r\n}\r\n//移除服务人员\r\nconst removeClient = (e) =>{\r\n\t\r\n}\r\n</script>\r\n\r\n<style>\r\n\t@import './index.css';\r\n</style>\r\n","import MiniProgramPage from 'D:/pro/unipro/uniapp_study/pages/clients/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","uni","toRaw","MiniProgramPage"],"mappings":";;;;;AAgDA,UAAM,MAAM,OAAM;AAElB,UAAM,MAAMA,cAAAA,IAAI,EAAE;AAElB,UAAM,UAAUA,cAAAA,IAAI,CAAA,CAAE;AAEtBC,kBAAM,OAAC,CAAC,YAAY;AACnB,UAAI,QAAQ,QAAQ;AACpB,UAAI,QAAQ,OAAO,UAAU;AAC5BC,sBAAAA,MAAI,sBAAsB;AAAA,UACzB,OAAO;AAAA,QACV,CAAG;AAAA,MACH,OAAQ;AACNA,sBAAAA,MAAI,sBAAsB;AAAA,UACzB,OAAO;AAAA,QACV,CAAG;AAAA,MACD;AAED,UAAI,WAAW,MAAM,QAAQ;AAAA,QAC5B,KAAK;AAAA,QACL,QAAQ,KAAK;AACZA,wBAAAA,MAAY,MAAA,OAAA,iCAAA,GAAG;AACf,kBAAQ,QAAQ,IAAI,KAAK;AAAA,QACzB;AAAA,MACH,CAAE;AAAA,IACF,CAAC;AAGD,UAAM,mBAAmB,CAAC,MAAK;AAC9B,UAAI,OAAO;AAAI;AACf,YAAM,QAAQ,EAAE,cAAc,QAAQ;AACtC,YAAM,cAAc,QAAQ,MAAM,KAAK;AAEvCA,oBAAAA,MAAI,MAAM,gBAAeC,cAAK,MAAC,WAAW,CAAC;AAC3CD,oBAAAA,MAAI,aAAc;AAAA,IACnB;AAEA,UAAM,eAAe,CAAC,MAAK;AAAA,IAE3B;;;;;;;;;;;;;;;;;;;;;;;;ACtFA,GAAG,WAAWE,SAAe;"}