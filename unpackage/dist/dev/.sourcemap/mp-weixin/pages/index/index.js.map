{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../../soft/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<navBar :isHome=\"true\"></navBar>\r\n\t\t<view style=\"margin-top: 200rpx\">\r\n\t\t\t<view class=\"weui-cell\" style=\"background: #fff9eb\">\r\n\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t<image src=\"/static/resource/images/ic_myapp.png\" style=\"display: block; width: 40rpx; height: 40rpx; margin-right: 14rpx\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t<text style=\"color: #be9719; font-size: 26rpx\">点击右上角 添加到我的小程序，方便下次找到</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t<image src=\"/static/resource/images/modal_closer.png\" style=\"display: block; width: 30rpx; height: 15rpx\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"slides && slides.length > 0\" class=\"index-swiper\">\r\n\t\t\t<swiper autoplay circular :interval=\"3000\" :duration=\"500\">\r\n\t\t\t\t<block v-for=\"(item, index) in slides\" :key=\"index\">\r\n\t\t\t\t\t<swiper-item>\r\n\t\t\t\t\t\t<image :src=\"item.pic_image_url\" mod=\"widthFix\" show-menu-by-longpress :data-index=\"index\"></image>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</block>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\r\n\t\t<view v-if=\"nav2s && nav2s.length > 0\" class=\"nav2-list\">\r\n\t\t\t<block v-for=\"(item, index) in nav2s\" :key=\"index\">\r\n\t\t\t\t<view class=\"nav2-item\" :data-index=\"index\" @click=\"onNav2Tap\">\r\n\t\t\t\t\t<view class=\"nav2-pic\">\r\n\t\t\t\t\t\t<image :src=\"item.pic_image_url\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\r\n\t\t<view v-if=\"nav4s && nav4s.length > 0\" class=\"nav-list\">\r\n\t\t\t<block v-for=\"(item, index) in nav4s\" :key=\"index\">\r\n\t\t\t\t<view class=\"nav-item\" :data-index=\"index\" @click=\"onNav4Tap\">\r\n\t\t\t\t\t<view class=\"nav-pic\"><image :src=\"item.pic_image_url\"></image></view>\r\n\t\t\t\t\t<view class=\"nav-text\" :style=\"'color:' + (item.tcolor ? item.tcolor : '')\">{{ item.title }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"weui-cells hosp-list\">\r\n\t\t\t<view class=\"weui-cell hosp-item weui-cell_access\"\r\n\t\t\t\tv-for=\"(item,index) in hospitals\"\r\n\t\t\t\t:key=\"item.id\"\r\n\t\t\t\t:data-hid=\"item.id\"\r\n\t\t\t\t@click=\"toHospital\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t<image class=\"hosp-avatar\" mode=\"aspectFill\" :src=\"item.avatar ? item.avatar_url : '../../static/resource/images/avatar_def.png'\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text class=\"hosp-name\">{{item.name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class = \"hosp-line\">\r\n\t\t\t\t\t\t<text class=\"hosp-rank\">{{item.rank}}</text>\r\n\t\t\t\t\t\t<text class=\"hosp-label\">{{item.label}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"hosp-line\">\r\n\t\t\t\t\t\t<text class=\"hosp-intro\">{{item.intro}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, reactive, ref, toRaw } from 'vue';\r\nimport { onLoad } from '@dcloudio/uni-app';\r\nconst app = getApp();\r\n//定义轮播图数据\r\nconst slides = ref([]);\r\n//快捷入口2\r\nconst nav2s = ref([]);\r\n//快捷入口4\r\nconst nav4s = ref([]);\r\n//医院列表\r\nconst hospitals = ref([]);\r\n\r\nonLoad(() => {\r\n\tapp.globalData.utils.getUserInfo();\r\n\tapp.globalData.utils.request({\r\n\t\turl: '/app/init',\r\n\t\tsuccess: (res) => {\r\n\t\t\tconsole.log(res);\r\n\t\t\tconst { id } = res.data.area;\r\n\t\t\tapp.globalData.utils.request({\r\n\t\t\t\turl: '/Index/index',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\taid: id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: ({ data }) => {\r\n\t\t\t\t\tslides.value = data.slides;\r\n\t\t\t\t\tnav2s.value = data.nav2s;\r\n\t\t\t\t\tnav4s.value = data.navs;\r\n\t\t\t\t\thospitals.value = data.hospitals;\r\n\t\t\t\t\tconsole.log(nav2s);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n});\r\n\r\nconst onNav2Tap = (e) => {\r\n\tconst nav = toRaw(nav2s.value)[e.currentTarget.dataset.index];\r\n\tjump(nav, 'nav2');\r\n};\r\n\r\nconst onNav4Tap = (e) => {\r\n\tconst nav = toRaw(nav4s.value)[e.currentTarget.dataset.index];\r\n\t// console.log('1111');\r\n\t// console.log(e);\r\n\tjump(nav, 'nav4');\r\n};\r\n\r\nconst jump = (nav) => {\r\n\t//判断是否为内部链接\r\n\tif (nav.stype == 1) {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: nav.stype_link\r\n\t\t});\r\n\t}\r\n};\r\n\r\nconst toHospital = (e) => {\r\n\tconsole.log(\"e.currentTarget.dataset.hid\",e.currentTarget.dataset.hid)\r\n\tuni.navigateTo({\r\n\t\turl:'/pages/hospital/index?hid='+e.currentTarget.dataset.hid,\r\n\t})\r\n};\r\n</script>\r\n\r\n<style>\r\npage {\r\n\tbackground: #fff;\r\n}\r\n\r\n.index-swiper {\r\n\tpadding: 20rpx 20rpx 0 20rpx;\r\n\toverflow: hidden;\r\n}\r\n.index-swiper swiper {\r\n\theight: 320rpx;\r\n\toverflow: hidden;\r\n\tborder-radius: 10rpx;\r\n}\r\n.index-swiper swiper image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.nav2-list {\r\n\tmargin: 10rpx 20rpx 0 20rpx;\r\n}\r\n.nav2-list::after {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\theight: 0;\r\n\tline-height: 0;\r\n\tclear: both;\r\n\tvisibility: hidden;\r\n}\r\n.nav2-item {\r\n\tfloat: left;\r\n\tmargin-top: 20rpx;\r\n\twidth: 50%;\r\n\ttext-align: center;\r\n\tbox-sizing: border-box;\r\n\tpadding: 0 5rpx;\r\n}\r\n.nav2-pic {\r\n\twidth: 100%;\r\n}\r\n.nav2-pic image {\r\n\tdisplay: block;\r\n\t/* margin: 0 auto; */\r\n\t/* width: 100%; */\r\n\twidth: 350rpx;\r\n\theight: 190rpx;\r\n}\r\n.nav-list::after {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\theight: 0;\r\n\tline-height: 0;\r\n\tclear: both;\r\n\tvisibility: hidden;\r\n}\r\n.nav-item {\r\n\tfloat: left;\r\n\tmargin-top: 20rpx;\r\n\twidth: 20%;\r\n\ttext-align: center;\r\n\tpadding: 10rpx 0;\r\n}\r\n.nav-pic image {\r\n\tdisplay: block;\r\n\tmargin: 0 auto;\r\n\twidth: 110rpx;\r\n\theight: 110rpx;\r\n}\r\n.nav-text {\r\n\tfont-size: 24rpx;\r\n\tfont-weight: bold;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n}\r\n\r\n.hosp-list {\r\n\tmargin: 10rpx 0 0 0;\r\n\tbackground: none;\r\n}\r\n.hosp-list::before {\r\n\tdisplay: none;\r\n}\r\n.hosp-list::after {\r\n\tdisplay: none;\r\n}\r\n\r\n.hosp-item {\r\n\t-webkit-box-align: stretch;\r\n\t-webkit-align-items: stretch;\r\n\talign-items: stretch;\r\n\tpadding: 20rpx;\r\n\tmargin: 20rpx;\r\n\tborder-radius: 10rpx;\r\n\toverflow: hidden;\r\n\tbox-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.04), 0 1px 6px 0 rgba(0, 0, 0, 0.04);\r\n}\r\n.hosp-item::before {\r\n\tdisplay: none;\r\n}\r\n.hosp-item::after {\r\n\tdisplay: none;\r\n}\r\n.hosp-name {\r\n\tfont-weight: bold;\r\n\tfont-size: 34rpx;\r\n}\r\n.hosp-avatar {\r\n\tdisplay: block;\r\n\twidth: 200rpx;\r\n\theight: 180rpx;\r\n\tborder-radius: 10rpx;\r\n\toverflow: hidden;\r\n\tmargin-right: 20rpx;\r\n}\r\n.hosp-line {\r\n\tmargin-top: 5rpx;\r\n}\r\n.hosp-line text {\r\n\tfont-size: 26rpx;\r\n}\r\n.hosp-rank {\r\n\tfont-weight: bold;\r\n\tcolor: #0bb585;\r\n\tmargin-right: 15rpx;\r\n}\r\n.hosp-label {\r\n\tfont-weight: bold;\r\n\tcolor: #0ca7ae;\r\n\tmargin-right: 15rpx;\r\n}\r\n.hosp-intro {\r\n\tcolor: #999999;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/pro/unipro/uniapp_study/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","uni","toRaw","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;AA2EA,UAAM,MAAM,OAAM;AAElB,UAAM,SAASA,cAAAA,IAAI,CAAA,CAAE;AAErB,UAAM,QAAQA,cAAAA,IAAI,CAAA,CAAE;AAEpB,UAAM,QAAQA,cAAAA,IAAI,CAAA,CAAE;AAEpB,UAAM,YAAYA,cAAAA,IAAI,CAAA,CAAE;AAExBC,kBAAAA,OAAO,MAAM;AACZ,UAAI,WAAW,MAAM;AACrB,UAAI,WAAW,MAAM,QAAQ;AAAA,QAC5B,KAAK;AAAA,QACL,SAAS,CAAC,QAAQ;AACjBC,wBAAAA,MAAY,MAAA,OAAA,+BAAA,GAAG;AACf,gBAAM,EAAE,GAAI,IAAG,IAAI,KAAK;AACxB,cAAI,WAAW,MAAM,QAAQ;AAAA,YAC5B,KAAK;AAAA,YACL,MAAM;AAAA,cACL,KAAK;AAAA,YACL;AAAA,YACD,SAAS,CAAC,EAAE,WAAW;AACtB,qBAAO,QAAQ,KAAK;AACpB,oBAAM,QAAQ,KAAK;AACnB,oBAAM,QAAQ,KAAK;AACnB,wBAAU,QAAQ,KAAK;AACvBA,4BAAAA,MAAY,MAAA,OAAA,gCAAA,KAAK;AAAA,YACjB;AAAA,UACL,CAAI;AAAA,QACD;AAAA,MACH,CAAE;AAAA,IACF,CAAC;AAED,UAAM,YAAY,CAAC,MAAM;AACxB,YAAM,MAAMC,oBAAM,MAAM,KAAK,EAAE,EAAE,cAAc,QAAQ,KAAK;AAC5D,WAAK,GAAW;AAAA,IACjB;AAEA,UAAM,YAAY,CAAC,MAAM;AACxB,YAAM,MAAMA,oBAAM,MAAM,KAAK,EAAE,EAAE,cAAc,QAAQ,KAAK;AAG5D,WAAK,GAAW;AAAA,IACjB;AAEA,UAAM,OAAO,CAAC,QAAQ;AAErB,UAAI,IAAI,SAAS,GAAG;AACnBD,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK,IAAI;AAAA,QACZ,CAAG;AAAA,MACD;AAAA,IACF;AAEA,UAAM,aAAa,CAAC,MAAM;AACzBA,0BAAA,MAAA,OAAA,gCAAY,+BAA8B,EAAE,cAAc,QAAQ,GAAG;AACrEA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAI,+BAA6B,EAAE,cAAc,QAAQ;AAAA,MAC3D,CAAE;AAAA,IACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtIA,GAAG,WAAWE,SAAe;"}