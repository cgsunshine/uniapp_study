{"version":3,"names":["common_vendor","onLoad","params","getOrderDetail","app","getApp","order","ref","orderStatus","computed","map","value","trade_state","onCounterOver","qrcodePopup","dopay","open","qr","UQRCode","data","code_url","size","make","canvasContext","index","createCanvasContext","_this","drawCanvas","payment","switchTab","url","__f__","globalData","utils","request","header","token","getStorageSync","oid","success","res","makePhoneCall","e","phoneNumber","currentTarget","dataset","tel","wx","createPage","_sfc_main"],"sources":["order.vue","cGFnZXMvb3JkZXIvb3JkZXIudnVl"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<view class=\"od-banner\">\r\n\t\t\t<image class=\"od-banner-icon\" src=\"/static/resource/images/od_bg_icon.png\" mode=\"widthFix\"></image>\r\n\t\t\t<view :class=\"'od-jd od-jd-' + orderStatus\">\r\n\t\t\t\t<view class=\"od-jd-out\">\r\n\t\t\t\t\t<view class=\"od-jd-in\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"vp-flex od-jd-text\">\r\n\t\t\t\t\t<view class=\"vp-flex_1\">\r\n\t\t\t\t\t\t<text class=\"od-jd-st-0\">填写订单</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"vp-flex_1\">\r\n\t\t\t\t\t\t<text class=\"od-jd-st-10\">在线支付</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"vp-flex_1\">\r\n\t\t\t\t\t\t<text class=\"od-jd-st-20\">专人服务</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"vp-flex_1\">\r\n\t\t\t\t\t\t<text class=\"od-jd-st-30\">服务完成</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"order-status\">\r\n\t\t\t<!-- 待付款 -->\r\n\t\t\t<block v-if=\"orderStatus == 10\">\r\n\t\t\t\t<view><text class=\"od-st\">订单待支付</text></view>\r\n\t\t\t\t<view class=\"od-sst\">\r\n\t\t\t\t\t请在\r\n\t\t\t\t\t<counter style=\"font-size: 24rpx\" :second=\"order._exp_time\" @counterOver=\"onCounterOver\" />\r\n\t\t\t\t\t内完成支付，超时订单自动取消\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"od-op\">\r\n\t\t\t\t\t<button class=\"btnp\" @click=\"dopay\">立即支付（{{order.price}}元）</button>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t<!-- 进行中 -->\r\n\t\t\t<block v-if=\"orderStatus == 20\">\r\n\t\t\t\t<block v-if=\"order.service_state == 0\">\r\n\t\t\t\t\t<view><text class=\"od-st\">正在为您安排服务专员...</text></view>\r\n\t\t\t\t\t<view class=\"od-stt\">请保持手机畅通，稍后将有服务专员与您联系</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block v-if=\"order.service_state == 1\">\r\n\t\t\t\t\t<view><text class=\"od-st\">服务进行中</text></view>\r\n\t\t\t\t\t<view class=\"od-stt\">已安排服务专员，将于预约时间进行服务</view>\r\n\t\t\t\t</block>\r\n\t\t\t</block>\r\n\t\t\t<!-- 已完成 -->\r\n\t\t\t<block v-if=\"orderStatus == 30\">\r\n\t\t\t\t<view><text class=\"od-st\">服务已完成</text></view>\r\n\t\t\t\t<view class=\"od-stt\">感谢您的使用，如有售后问题请联系客服</view>\r\n\t\t\t</block>\r\n\t\t\t<!-- 已取消 -->\r\n\t\t\t<block v-if=\"orderStatus == 40\">\r\n\t\t\t\t<view><text class=\"od-st\">订单已取消</text></view>\r\n\t\t\t\t<view class=\"od-stt\">期待下次为您服务，如需帮助可咨询客服</view>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\t\t<block v-if=\"orderStatus == 20\">\r\n\t\t\t<view class=\"od-box\">\r\n\t\t\t\t<view class=\"weui-cells\">\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label od-box-tt\">本次服务专员</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell od-staff\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<image :src=\"order._staff.avatar_url\" mode=\"aspectFill\" class=\"od-staff-avatar\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t\t<view>{{ order._staff.nickname }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<button class=\"btn1m\" @tap=\"makePhoneCall\" :data-tel=\"order._staff.mobile\">电话联系</button>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<view class=\"od-box\">\r\n\t\t\t<view class=\"weui-cells\">\r\n\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t<view class=\"weui-label od-box-tt\">预约信息</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t<view class=\"weui-label\">预约服务</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t{{ order.service_name }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<block v-if=\"order.service_stype <= 20\">\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">就诊医院</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t{{ order.hospital_name }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">期望就诊时间</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<formater :timestamp=\"order.starttime\" format=\"YYYY-MM-dd hh:mm\"></formater>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">就诊人</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>{{ order.client_name }} {{ order.client_sex == 1 ? '男' : '女' }}\r\n\t\t\t\t\t\t\t\t{{ order.client_age }}周岁</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">就诊人电话</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t{{ order.tel }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<block v-if=\"order.service_stype == 15\">\r\n\t\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t\t<view class=\"weui-label\">接送地址</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t{{ order.receiveAddress }}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block v-if=\"order.service_stype > 20 && order.service_stype < 100\">\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">所在医院</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t{{ order.hospital_name }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">期望处理时间</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<formater :timestamp=\"order.starttime\" format=\"YYYY-MM-dd hh:mm\"></formater>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">收件人</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>{{ order.address.userName }} {{ order.address.telNumber }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">收件地址</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t{{ order.address.cityName }}{{ order.address.countyName }}{{ order.address.detailInfo }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block v-if=\"order.service_stype > 100\">\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">期望服务时间</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<formater :timestamp=\"order.starttime\" format=\"YYYY-MM-dd hh:mm\"></formater>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">服务对象</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>{{ order.client_name }} {{ order.client_sex == 1 ? '男' : '女' }}\r\n\t\t\t\t\t\t\t\t{{ order.client_age }}周岁</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">服务对象电话</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t{{ order.client_mobile }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">服务地址</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t{{ order.address.address }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t<view class=\"weui-label\">其他需求</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t{{ order.demand }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"od-box\">\r\n\t\t\t<view class=\"weui-cells\">\r\n\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t<view class=\"weui-label od-box-tt\">订单信息</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t<view class=\"weui-label\">联系电话</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t{{ order.tel }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t<view class=\"weui-label\">下单时间</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<formater :timestamp=\"order.order_start_time\" format=\"YYYY-MM-dd hh:mm\"></formater>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t<view class=\"weui-label\">应付金额</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t<view>{{ order.price }}元</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<block v-if=\"orderStatus == 20\">\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">实付金额</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>{{ order.price }}元</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">付款时间</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<formater :timestamp=\"order.pay_time\" format=\"YYYY-MM-dd hh:mm\"></formater>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<view class=\"weui-cell\">\r\n\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t<view class=\"weui-label\">订单编号</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t<view class=\"color_click\">\r\n\t\t\t\t\t\t\t{{ order.out_trade_no }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<navigator class=\"weui-cell weui-cell_access\" url=\"../index/server\">\r\n\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t<view class=\"weui-label\">联系客服</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">疑问或投诉</view>\r\n\t\t\t\t</navigator>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"qrcodePopup\" type=\"center\" :is-mask-click=\"false\" background-color=\"#fff\">\r\n\t\t\t<view class=\"pay-box\">\r\n\t\t\t\t<image @click=\"payment\" src=\"/static/resource/images/modal_closer.png\"\r\n\t\t\t\t\tstyle=\"display: block;width: 30rpx;height: 30rpx;\"></image>\r\n\t\t\t\t<view class=\"text-center\">微信支付</view>\r\n\t\t\t\t<canvas id=\"qrcode\" canvas-id=\"qrcode\" style=\"width: 300rpx;height: 300rpx;\"></canvas>\r\n\t\t\t\t<view class=\"text-center\">请用微信扫码支付</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tonLoad\r\n\t} from '@dcloudio/uni-app';\r\n\timport {\r\n\t\tref,\r\n\t\tcomputed\r\n\t} from 'vue';\r\n\timport UQRCode from 'uqrcodejs';\r\n\r\n\tonLoad((params) => {\r\n\t\tgetOrderDetail(params)\r\n\t})\r\n\tconst app = getApp()\r\n\t//获取订单详情\r\n\tconst order = ref({})\r\n\tconst orderStatus = computed(() => {\r\n\t\tconst map = {\r\n\t\t\t'待支付': '10',\r\n\t\t\t'待服务': '20',\r\n\t\t\t'已完成': '30',\r\n\t\t\t'已取消': '40'\r\n\t\t}\r\n\t\treturn map[order.value.trade_state]\r\n\t})\r\n\tconst onCounterOver = () => {\r\n\t\tgetOrderDetail()\r\n\t}\r\n\t//订单重新支付\r\n\tconst qrcodePopup = ref()\r\n\tconst dopay = () => {\r\n\t\t// console.log(res)\r\n\t\tqrcodePopup.value.open('center')\r\n\t\t// 获取uQRCode实例\r\n\t\tvar qr = new UQRCode();\r\n\t\t// 设置二维码内容\r\n\t\tqr.data = order.value.code_url;\r\n\t\t// 设置二维码大小，必须与canvas设置的宽高一致\r\n\t\tqr.size = 150;\r\n\t\t// 调用制作二维码方法\r\n\t\tqr.make();\r\n\t\t// 获取canvas上下文\r\n\t\tvar canvasContext = uni.createCanvasContext('qrcode', this); // 如果是组件，this必须传入\r\n\t\t// 设置uQRCode实例的canvas上下文\r\n\t\tqr.canvasContext = canvasContext;\r\n\t\t// 调用绘制方法将二维码图案绘制到canvas上\r\n\t\tqr.drawCanvas();\r\n\t}\r\n\tconst payment = () => {\r\n\t\tuni.switchTab({\r\n\t\t\turl: '../order/index'\r\n\t\t})\r\n\t}\r\n\r\n\t//请求订单详情\r\n\tconst getOrderDetail = (params) => {\r\n\t\tconsole.log(params, 'params')\r\n\t\tapp.globalData.utils.request({\r\n\t\t\turl: '/order/detail',\r\n\t\t\theader: {\r\n\t\t\t\ttoken: uni.getStorageSync('token')\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\toid: params.oid\r\n\t\t\t},\r\n\t\t\tsuccess: res => {\r\n\t\t\t\torder.value = res.data\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t//联系服务专员\r\n\tconst makePhoneCall = (e) => {\r\n\t\tuni.makePhoneCall({\r\n\t\t\tphoneNumber: e.currentTarget.dataset.tel\r\n\t\t})\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import './order.css'\r\n</style>","import MiniProgramPage from 'D:/pro/unipro/uniapp_study/pages/order/order.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;IAoXCA,aAAA,CAAMC,MAAA,CAAC,UAACC,MAAA,EAAW;MAClBC,cAAA,CAAeD,MAAM;IACvB,CAAE;IACD,IAAME,GAAA,GAAMC,MAAA,EAAQ;IAEpB,IAAMC,KAAA,GAAQN,aAAA,CAAGO,GAAA,CAAC,EAAE;IACpB,IAAMC,WAAA,GAAcR,aAAA,CAAAS,QAAA,CAAS,YAAM;MAClC,IAAMC,GAAA,GAAM;QACX,OAAO;QACP,OAAO;QACP,OAAO;QACP,OAAO;MACP;MACD,OAAOA,GAAA,CAAIJ,KAAA,CAAMK,KAAA,CAAMC,WAAW;IACpC,CAAE;IACD,IAAMC,aAAA,GAAgB,SAAhBA,cAAA,EAAsB;MAC3BV,cAAA,EAAgB;IAChB;IAED,IAAMW,WAAA,GAAcd,aAAA,CAAAO,GAAA,EAAK;IACzB,IAAMQ,KAAA,GAAQ,SAARA,MAAA,EAAc;MAEnBD,WAAA,CAAYH,KAAA,CAAMK,IAAA,CAAK,QAAQ;MAE/B,IAAIC,EAAA,GAAK,IAAIjB,aAAA,CAAAkB,OAAA;MAEbD,EAAA,CAAGE,IAAA,GAAOb,KAAA,CAAMK,KAAA,CAAMS,QAAA;MAEtBH,EAAA,CAAGI,IAAA,GAAO;MAEVJ,EAAA,CAAGK,IAAA,EAAI;MAEP,IAAIC,aAAA,GAAgBvB,aAAA,CAAGwB,KAAA,CAACC,mBAAA,CAAoB,UAAUC,KAAI;MAE1DT,EAAA,CAAGM,aAAA,GAAgBA,aAAA;MAEnBN,EAAA,CAAGU,UAAA,EAAU;IACb;IACD,IAAMC,OAAA,GAAU,SAAVA,QAAA,EAAgB;MACrB5B,aAAA,CAAAwB,KAAA,CAAIK,SAAA,CAAU;QACbC,GAAA,EAAK;MACR,CAAG;IACD;IAGD,IAAM3B,cAAA,GAAiB,SAAjBA,eAAkBD,MAAA,EAAW;MAClCF,aAAA,CAAAwB,KAAA,CAAYO,KAAA,wCAAA7B,MAAA,EAAQ,QAAQ;MAC5BE,GAAA,CAAI4B,UAAA,CAAWC,KAAA,CAAMC,OAAA,CAAQ;QAC5BJ,GAAA,EAAK;QACLK,MAAA,EAAQ;UACPC,KAAA,EAAOpC,aAAA,CAAAwB,KAAA,CAAIa,cAAA,CAAe,OAAO;QACjC;QACDlB,IAAA,EAAM;UACLmB,GAAA,EAAKpC,MAAA,CAAOoC;QACZ;QACDC,OAAA,EAAS,SAATA,QAASC,GAAA,EAAO;UACflC,KAAA,CAAMK,KAAA,GAAQ6B,GAAA,CAAIrB,IAAA;QAClB;MACJ,CAAG;IACD;IAED,IAAMsB,aAAA,GAAgB,SAAhBA,cAAiBC,CAAA,EAAM;MAC5B1C,aAAA,CAAAwB,KAAA,CAAIiB,aAAA,CAAc;QACjBE,WAAA,EAAaD,CAAA,CAAEE,aAAA,CAAcC,OAAA,CAAQC;MACxC,CAAG;IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpbFC,EAAA,CAAGC,UAAA,CAAWC,SAAe","ignoreList":[]}