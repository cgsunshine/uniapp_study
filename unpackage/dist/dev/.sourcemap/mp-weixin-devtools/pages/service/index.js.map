{"version":3,"names":["flag","app","getApp","popup","common_vendor","ref","open","index","__f__","value","_this","$refs","onLoad","options","main_load","service","hospitals","hospital_index","is_xieyi","validMobile","reactive","phone","validCode","countdown","validText","time","order","price","starttime","address","userName","cityName","countyName","detailInfo","receiveAddress","tel","demand","client","name","cfg","page_xy","page_fw","globalData","utils","request","url","data","svid","success","res","hospitalsData","toRaw","hid","i","length","id","service_price","handleTap","onHospitalChange","e","parseInt","detail","_readOnlyError2","onStartTimeChanged","onClinetChange","navigateTo","$on","sex","age","mobile","onXieyiChange","onAddressChange","chooseAddress","fail","submit","showToast","title","icon","duration","orderData","serviceData","clientData","stype","hospital_id","hospital_name","getStorageInfoSync","ok","countdownChange","setInterval","clearInterval","wx","createPage","_sfc_main"],"sources":["index.vue","cGFnZXMvc2VydmljZS9pbmRleC52dWU"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<view class=\"od-banner\">\r\n\t\t\t<image class=\"od-banner-icon\" src=\"/static/resource/images/od_bg_icon.png\" mode=\"widthFix\"></image>\r\n\t\t\t<view class=\"od-jd od-jd-0\">\r\n\t\t\t\t<view class=\"od-jd-out\">\r\n\t\t\t\t\t<view class=\"od-jd-in\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"vp-flex od-jd-text\">\r\n\t\t\t\t\t<view class=\"vp-flex_1\">\r\n\t\t\t\t\t\t<text class=\"od-jd-st-0\">填写订单</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"vp-flex_1\">\r\n\t\t\t\t\t\t<text class=\"od-jd-st-10\">在线支付</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"vp-flex_1\">\r\n\t\t\t\t\t\t<text class=\"od-jd-st-20\">专人服务</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"vp-flex_1\">\r\n\t\t\t\t\t\t<text class=\"od-jd-st-30\">服务完成</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"pub-box\">\r\n\t\t\t<view class=\"pub-box-bd\">\r\n\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t<image class=\"serv-icon\"\r\n\t\t\t\t\t\t\t:src=\"service.icon_image ? service.icon_image_url : '/static/resource/images/avatar_def.png'\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t<text class=\"serv-name\">{{ service.name }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t<view class=\"f5 ic_info\" @click=\"handleTap\">服务内容</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<block v-if=\"service.stype == 10 || service.stype == 15 || service.stype == 20\">\r\n\t\t\t<view class=\"pub-box\">\r\n\t\t\t\t<view class=\"pub-box-bd\">\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">就诊医院</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<picker @change=\"onHospitalChange\" :value=\"hospital_index\" :range=\"hospitals\"\r\n\t\t\t\t\t\t\t\t\trange-key=\"name\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" :disabled=\"true\" placeholder=\"请选择就诊医院\"\r\n\t\t\t\t\t\t\t\t\t\t:value=\"hospitals[hospital_index].name\" placeholder-class=\"vp-placeholder\" />\r\n\t\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">就诊时间</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<dtPicker @dtPickerChanged=\"onStartTimeChanged\" placeholder=\"请选择就诊时间\"\r\n\t\t\t\t\t\t\t\t\t:timestamp=\"order.starttime\"></dtPicker>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\" @click=\"onClinetChange\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">就诊人</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"weui-input\" placeholder-class=\"vp-placeholder\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"请选择就诊人\" style=\"text-align: right\" :disabled=\"true\"\r\n\t\t\t\t\t\t\t\t\t:value=\"client.name\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<block v-if=\"service.stype == 15\">\r\n\t\t\t\t\t\t<!-- 接送陪诊 -->\r\n\t\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t\t<view class=\"weui-cell__hd\">接送地址</view>\r\n\t\t\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t\t\t<input class=\"weui-input\" name=\"receiveAddress\" style=\"text-align: right\"\r\n\t\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" placeholder=\"请填写就诊人所在地址\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"order.receiveAddress\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">联系电话</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t\t<input class=\"weui-input\" type=\"number\" name=\"tel\" style=\"text-align: right\"\r\n\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" placeholder=\"请填写您的联系电话\" v-model=\"order.tel\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"pub-box\">\r\n\t\t\t\t<view class=\"pub-box-tt\">服务需求</view>\r\n\t\t\t\t<view class=\"pub-box-bd\">\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t\t<textarea name=\"demand\" auto-height placeholder=\"请简单描述您要就诊的科室..\"\r\n\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" style=\"min-height: 150rpx\" v-model=\"order.demand\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<block v-if=\"service.stype == 30 || service.stype == 40\">\r\n\t\t\t<!-- 送取结果,代跑取药 -->\r\n\t\t\t<view class=\"pub-box\">\r\n\t\t\t\t<view class=\"pub-box-bd\">\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">所在医院</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<picker @change=\"onHospitalChange\" :value=\"hospital_index\" :range=\"hospitals\"\r\n\t\t\t\t\t\t\t\t\trange-key=\"name\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" :disabled=\"true\" placeholder=\"请选择就诊所在医院\"\r\n\t\t\t\t\t\t\t\t\t\t:value=\"hospitals[hospital_index].name\" placeholder-class=\"vp-placeholder\" />\r\n\t\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">服务时间</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<dtPicker @dtPickerChanged=\"onStartTimeChanged\" :timestamp=\"order.starttime\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"请选择期望服务时间\"></dtPicker>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\" @click=\"onAddressChange\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">收件信息</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">\r\n\t\t\t\t\t\t\t<input class=\"weui-input\" :disabled=\"true\" style=\"text-align: right\"\r\n\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" placeholder=\"请选择收件信息\" :value=\"\r\n\t\t\t\t\t\t\t\t\torder.address.userName ? order.address.userName + '(' + order.address.cityName + order.address.countyName + order.address.detailInfo + ')' : ''\r\n\t\t\t\t\t\t\t\t\" />\r\n\t\t\t\t\t\t\t<!-- {{order.address?(order.address.userName+'('+order.address.telNumber+')'):''}} -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">联系电话</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t\t<input class=\"weui-input\" type=\"number\" name=\"tel\" style=\"text-align: right\"\r\n\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" placeholder=\"请填写您的联系电话\" v-model=\"order.tel\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"pub-box\">\r\n\t\t\t\t<view class=\"pub-box-tt\">服务需求</view>\r\n\t\t\t\t<view class=\"pub-box-bd\">\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t\t<textarea name=\"demand\" auto-height placeholder=\"如有其他服务要求请在此填写..\"\r\n\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" style=\"min-height: 150rpx\" v-model=\"order.demand\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<view style=\"height: 300rpx\"></view>\r\n\t\t<!-- 悬浮提交按钮 -->\r\n\t\t<view class=\"vp-foot\">\r\n\t\t\t<view style=\"background: #ffffff; padding: 20rpx\">\r\n\t\t\t\t<view class=\"xieyi\" style=\"text-align: center\">\r\n\t\t\t\t\t<text :class=\"'is_xieyi ' + (is_xieyi ? 'is_xieyi_on' : '')\" @click=\"onXieyiChange\">我已阅读并同意</text>\r\n\t\t\t\t\t<navigator :url=\"cfg.page_xy\">《用户协议》</navigator>\r\n\t\t\t\t\t<text>和</text>\r\n\t\t\t\t\t<navigator :url=\"cfg.page_fw\">《服务协议》</navigator>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<button :class=\"'btnp ' + (is_xieyi ? '' : 'btnp-disabled')\" @click=\"submit\">\r\n\t\t\t\t\t\t确认下单\r\n\t\t\t\t\t\t<block v-if=\"order.price > 0\">（支付{{ order.price }}元）</block>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view>\r\n\t\t\t\t<button @click=\"open\">打开弹窗</button>\r\n\t\t\t\t<uni-popup ref=\"popup\" type=\"bottom\" border-radius=\"10px 10px 0 0\">底部弹出 Popup 自定义圆角</uni-popup>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"popup\" type=\"center\" :is-mask-click=\"false\" background-color=\"#fff\">\r\n\t\t\t<view class=\"popup-content\">\r\n\t\t\t\t<view class=\"group\">\r\n\t\t\t\t\t<input class=\"uni-input\" type=\"tel\" v-model=\"validMobile.phone\" placeholder=\"手机号\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"group\">\r\n\t\t\t\t\t<input class=\"uni-input\" v-model=\"validMobile.validCode\" placeholder=\"验证码\" />\r\n\t\t\t\t\t<text class=\"valid-text\" @click=\"countdownChange\">{{countdown.validText}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btns\">\r\n\t\t\t\t<view class=\"cancal\" @click=\"cancal\">取消</view>\r\n\t\t\t\t<view class=\"ok\" @click=\"ok\">确定</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tcomputed,\r\n\t\treactive,\r\n\t\tref,\r\n\t\ttoRaw\r\n\t} from 'vue';\r\n\timport {\r\n\t\tonLoad\r\n\t} from '@dcloudio/uni-app';\r\n\r\n\tconst app = getApp();\r\n\tconst popup = ref();\r\n\tconst open = () => {\r\n\t\tconsole.log(popup.value);\r\n\t\tconsole.log('弹出层');\r\n\t\tthis.$refs.popup.open('top')\r\n\t};\r\n\tonLoad((options) => {\r\n\t\tconsole.log(options, 'options');\r\n\t\tmain_load(options);\r\n\t});\r\n\r\n\t//页面服务数据\r\n\tconst service = ref({});\r\n\t///医院的列表\r\n\tconst hospitals = ref([]);\r\n\t//选中医院的索引\r\n\tconst hospital_index = ref(0);\r\n\t//是否同意协议\r\n\tconst is_xieyi = ref(false);\r\n\t//手机验证\r\n\tconst validMobile = reactive({\r\n\t\tphone: '',\r\n\t\tvalidCode: ''\r\n\t})\r\n\t//验证码文本信息\r\n\tconst countdown = reactive({\r\n\t\tvalidText: '获取验证码',\r\n\t\ttime: 60\r\n\t})\r\n\t//订单的数据\r\n\tconst order = reactive({\r\n\t\tprice: '',\r\n\t\tstarttime: '',\r\n\t\taddress: {\r\n\t\t\tuserName: '',\r\n\t\t\tcityName: '',\r\n\t\t\tcountyName: '',\r\n\t\t\tdetailInfo: ''\r\n\t\t},\r\n\t\treceiveAddress: '',\r\n\t\ttel: '',\r\n\t\tdemand: ''\r\n\t});\r\n\r\n\tconst client = reactive({\r\n\t\tname: ''\r\n\t});\r\n\r\n\tconst cfg = reactive({\r\n\t\tpage_xy: '',\r\n\t\tpage_fw: ''\r\n\t});\r\n\r\n\tconst main_load = (options) => {\r\n\t\tapp.globalData.utils.request({\r\n\t\t\turl: '/Service/order',\r\n\t\t\tdata: {\r\n\t\t\t\tsvid: options.svid\r\n\t\t\t},\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tservice.value = res.data.service;\r\n\t\t\t\thospitals.value = res.data.hospitals;\r\n\t\t\t\t//默认选中\r\n\t\t\t\tconst hospitalsData = toRaw(hospitals.value);\r\n\t\t\t\tif (options.hid > 0) {\r\n\t\t\t\t\tfor (let i = 0; i < hospitalsData.length; i++) {\r\n\t\t\t\t\t\tif (hospitalsData[i].id == options.hid) {\r\n\t\t\t\t\t\t\thospital_index.value = i;\r\n\t\t\t\t\t\t\torder.price = hospitalsData[i].service_price;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst handleTap = () => {\r\n\t\tconsole.log('弹出层');\r\n\t};\r\n\r\n\t//改变医院数据提醒\r\n\tconst onHospitalChange = (e) => {\r\n\t\tconst value = parseInt(e.detail.value);\r\n\t\thospital_index = value;\r\n\t\torder.price = toRaw(hospitals.value)[value].service_price;\r\n\t};\r\n\t//修改日期后的回调\r\n\r\n\tconst onStartTimeChanged = (e) => {\r\n\t\t// console.log(e);\r\n\t\torder.starttime = e.detail.value\r\n\t};\r\n\r\n\t//选择就诊人\r\n\tconst onClinetChange = (e) => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '../clients/index?act=select'\r\n\t\t});\r\n\t};\r\n\r\n\t//创建监听全局的自定义事件\r\n\tuni.$on('clientChange', (data) => {\r\n\t\tconsole.log(data);\r\n\t\tclient.name = data.name;\r\n\t\tclient.id = data.id;\r\n\t\tclient.sex = data.sex;\r\n\t\tclient.age = data.age;\r\n\t\tclient.mobile = data.mobile;\r\n\t});\r\n\r\n\tconst onXieyiChange = () => {\r\n\t\tis_xieyi.value = !is_xieyi.value;\r\n\t};\r\n\tconst onAddressChange = () => {\r\n\t\tuni.chooseAddress({\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\torder.address.userName = res.userName;\r\n\t\t\t\torder.address.cityName = res.cityName;\r\n\t\t\t\torder.address.countyName = res.countyName;\r\n\t\t\t\torder.address.detailInfo = res.detailInfo;\r\n\t\t\t},\r\n\t\t\tfail: (res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//下单\r\n\tconst submit = () => {\r\n\t\tconsole.log(is_xieyi.value)\r\n\t\tif (!is_xieyi.value) {\r\n\t\t\treturn uni.showToast({\r\n\t\t\t\ttitle: '请先阅读并同意协议和服务协议',\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\tduration: 1500\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst orderData = toRaw(order)\r\n\t\tconst serviceData = toRaw(service.value)\r\n\t\tconst hospitalsData = toRaw(hospitals.value)\r\n\t\tconst clientData = toRaw(client)\r\n\r\n\t\t//医院的选择校验\r\n\t\tif (serviceData.stype < 100) {\r\n\t\t\tif (hospital_index.value == 0) {\r\n\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\ttitle: '请选择医院',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\torderData.hospital_id = hospitalsData[hospital_index.value].id\r\n\t\t\torderData.hospital_name = hospitalsData[hospital_index.value].name\r\n\r\n\t\t\tif (!orderData.starttime) {\r\n\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\ttitle: '请选择服务时间',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//服务类型为陪诊\r\n\t\t\tif (serviceData.stype == 10 || serviceData.stype == 15 || serviceData.stype == 20) {\r\n\t\t\t\t//就诊人验证\r\n\t\t\t\tif (!clientData.id) {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '请选就诊人',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\torderData.client = {}\r\n\t\t\torderData.client.age = clientData.age\r\n\t\t\torderData.client.mobile = clientData.mobile\r\n\t\t\torderData.client.name = clientData.name\r\n\t\t\torderData.client.sex = clientData.sex\r\n\r\n\t\t\t//接送地址验证\r\n\t\t\tif (serviceData.stype == 15) {\r\n\t\t\t\tif (!orderData.receiveAddress) {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '请选就诊人所在地址',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (serviceData.stype == 30 || serviceData.stype == 40) {\r\n\t\t\t//收件地址是否存在\r\n\t\t\tif (!orderData.address.userName) {\r\n\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\ttitle: '请选择收件信息',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t//判断联系电话\r\n\t\tif (!orderData.tel) {\r\n\t\t\treturn uni.showToast({\r\n\t\t\t\ttitle: '请填写联系方式',\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\tduration: 1500\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconsole.log(orderData)\r\n\t\t//判断用户是否登录\r\n\t\tif(uni.getStorageInfoSync('token')){\r\n\t\t\tpopup.value.open('center')\r\n\t\t}\r\n\r\n\t};\r\n\tconst calcal = () => {}\r\n\tconst ok = () => {}\r\n\tconst flag = false\r\n\tconst countdownChange = () => {\r\n\t\t//判断手机号是否存在\r\n\t\tif (!validMobile.phone) {\r\n\t\t\treturn uni.showToast({\r\n\t\t\t\ttitle: '请输入手机号',\r\n\t\t\t\ticon: 'none' ,\r\n\t\t\t\tduration: 1000\r\n\t\t\t})\r\n\t\t}\r\n\t\tif(flag) return\r\n\t\tconst time = setInterval(() => {\r\n\t\t\tif (countdown.time <= 0) {\r\n\t\t\t\tcountdown.validText = '获取验证码'\r\n\t\t\t\tcountdown.time = 60\r\n\t\t\t\tflag = false\r\n\t\t\t\tclearInterval(time)\r\n\t\t\t} else {\r\n\t\t\t\tcountdown.time -= 1\r\n\t\t\t\tcountdown.validText = \"剩余${countdown.time}s\"\r\n\t\t\t}\r\n\t\t},1000)\r\n\t\tflag = true\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import './index.css';\r\n</style>","import MiniProgramPage from 'D:/pro/unipro/uniapp_study/pages/service/index.vue'\nwx.createPage(MiniProgramPage)"],"mappings":"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","ignoreList":[]}